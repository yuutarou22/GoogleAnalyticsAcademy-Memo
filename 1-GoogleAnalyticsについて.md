# GoogleAnalyticsについて

## アナリティクスの概要と重要性

GoogleAnalyticsは、顧客データを収集し、レポートにまとめるプラットフォーム。

### アナリティクスの定義
顧客が購入することを想定してみる。

基本的な到達プロセスは、次の3つがある。

- 集客：注目を集める
- 行動：ユーザがビジネスを利用する
- コンバージョン：ユーザが顧客となり購入する

オフラインで到達プロセスを測定するのは非現実的。

実際に顧客の隣で画面を眺めるなんて無理。

そこでアナリティクスを活用することで、様々な行動を測定できる。

購入に結びつく行動をトラッキングし、ビジネスの判断材料になる。

### アナリティクスの活用
ビジネスで様々な場面で活用することができる。

- ユーザの興味に合う広告を掲載し、熱心なユーザを獲得する
- 顧客のオンライン行動を把握することで、商品やサービスのマーケティングを適切に実施できる
- 見込み顧客の発掘のために、ユーザ情報を取得して判断材料にすることも可能

> 【具体例】
> 状況：オンラインストアを運営している。
> 目標：Tシャツの売上増加
> できること①：地域別売上データから特定の地域に広告を掲載する
> できること②：ショッピングカートの使用過程を分析
> できること③：Webページの特定の段階で起きている問題を把握し、サイトの問題を修正


何と言ってもいちばんの理由は、モバイルアプリ、POSシステム、ゲーム機、顧客管理システムなど**インターネットに接続されたシステムからであれば何でも収集可能**であること。


## アナリティクスの仕組み
### Webサイトのトラッキング手順

- GoogleAnalyticsアカウントを作成
- サイトの各ページにトラッキングコードを追加
- →ユーザがページにアクセスするたびに、ページ操作の情報が収集される

### トラッキングコードによって取得できるもの

- ブラウザの設定言語
- ブラウザの種類
- OSなどの端末情報
- アクセス参照元
- など

### セッション
ユーザの行動情報は、**ページ読み込みのたびに収集、送信**される。

この活動を「セッション」と呼ぶ「期間」にまとめる。

セッションは、トラッキングコードを含むページにアクセスすると開始、活動がなくなってから30分後に終了する。

セッション終了後にアクセスすると新しいセッションが開始する。


### 処理とレポート作成
収集されたデータはGoogleAnalyticsに送信され、レポートが作成される。

データが処理される際、「スマホかPCか」「端末の種類は」「ブラウザの種類は」など特定の条件でまとめられる。

フィルタを適用することで、自分のトラフィックを除外したり、ビジネスで重要な国や地域のデータに絞り込める。

注意点としては、**DBに保存された後はデータの変更ができない**ということ。

なので、後から分析する可能性があるデータは除外しないようにする。

## GoogleAnalyticsアカウントの構造
以下のようにグループ化される。

- Organization（組織）
  - Account（アカウント）
    - Property（プロパティ）
      - View

- アカウントは、最低１つのプロパティを保持する。
- 各アカウントは、複数のプロパティを保持できる。
- 各プロパティは、複数のビューを保持できる。
- プロパティは、互いに独立したデータを収集できる。

- 通常、ビジネスごと、ビジネスユニットごとに個別のアカウントを作成する。
- 通常、販売地域ごと、ブランドごとに個別のプロパティを作成する。
- 通常、ビューではフィルターを使って絞り込みをかける。

以下は、イメージ。

- Organization（株式会社 TEST）
  - Account（広告事業）
    - Property（日本）
      - View（20代男性）
      - View（40代以上）
    - Property（アメリカ）
      - View（20代男性）
      - View（40代以上）
  - Account（モバイル事業）
    - Property（スマホ）
      - View（20代女性）
      - View（10代）
    - Property（PC）
      - View（20代女性）
      - View（10代）

自分のトラフィックを除外する場合は、IPアドレスに基づいて除外するビューを設定する。

ビューレベルで「目標」を設定でき、コンバージョンやビジネス目標を追跡するための方法。

注意点としては、以下の２点

- 新しいビューには、作成日以降のデータのみ含まれる。過去のデータは含まれない。
- ビューを削除すると、管理者のみが復元可能（35日）

### ユーザ権限
アカウント、プロパティ、ビューそれぞれに権限を破り与えられる。

各レベルは、その上のレベルから権限を継承する。

つまり、アカウントで許可していない権限は、プロパティとビューも許可されない。

